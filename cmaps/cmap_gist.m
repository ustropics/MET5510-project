%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%% FILE DESCRIPTION %%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% FILENAME: cmap_gist.m
%
% DESCRIPTION: Earth-toned sequential colormap (black → blue → green → yellow).
%              Ideal for topography, bathymetry, or geophysical fields.
%              Interpolates between 10 sampled colors.
%
% INPUT:
%   n - Number of colors (default: 256)
%
% OUTPUT:
%   cmap - n x 3 RGB matrix (0–1 range)

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% FUNCTION %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

function cmap = cmap_gist(n)
    
    %% --------------------------------------------------------------------
    %% 1. Set default input
    %% --------------------------------------------------------------------
    if nargin < 1, n = 256; end

    %% --------------------------------------------------------------------
    %% 2. Define node colors (RGB, 0–1) from Matplotlib gist_earth
    %% --------------------------------------------------------------------
    % Hex: #000000, #133078, #25677d, #368770, #43984d,
    %      #7ca753, #aab35c, #c0a565, #debba7, #fdfbfb
    nodes = [
        0.00000  0.00000  0.00000;
        0.07318  0.18931  0.46911;
        0.14635  0.40276  0.48902;
        0.21222  0.53132  0.43805;
        0.26401  0.59453  0.30364;
        0.48487  0.65517  0.32422;
        0.66593  0.70335  0.35892;
        0.75204  0.64594  0.39486;
        0.86938  0.73229  0.65554;
        0.99220  0.98430  0.98430
    ];

    %% --------------------------------------------------------------------
    %% 3. Interpolate to n colors
    %% --------------------------------------------------------------------
    pos = linspace(0, 1, size(nodes,1));
    cmap = interp1(pos, nodes, linspace(0, 1, n), 'pchip');
end