%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%% FILE DESCRIPTION %%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% FILENAME: cmap_berlin.m
%
% DESCRIPTION: Diverging blue-to-red colormap inspired by urban "Berlin" style.
%              Cool blues (negative) to warm reds (positive).
%              Interpolates between 10 sampled colors.
%
% INPUT:
%   n - Number of colors (default: 256)
%
% OUTPUT:
%   cmap - n x 3 RGB matrix (0–1 range)

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% FUNCTION %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

function cmap = cmap_berlin(n)
    
    %% --------------------------------------------------------------------
    %% 1. Set default input
    %% --------------------------------------------------------------------
    if nargin < 1, n = 256; end

    %% --------------------------------------------------------------------
    %% 2. Define node colors (RGB, 0–1)
    %% --------------------------------------------------------------------
    % Hex: #9eb0ff, #5ba4db, #2e7699, #1a4256, #11191e,
    %      #280d01, #501803, #8c402c, #c4756a, #ffadad
    nodes = [
        0.62108  0.69018  0.99951;
        0.35606  0.64155  0.85880;
        0.18050  0.46447  0.60062;
        0.10118  0.26011  0.33595;
        0.06538  0.09647  0.11717;
        0.15831  0.05213  0.00288;
        0.31502  0.09253  0.01332;
        0.54948  0.25292  0.17226;
        0.76882  0.45912  0.41584;
        0.99987  0.68007  0.67995
    ];

    %% --------------------------------------------------------------------
    %% 3. Interpolate to n colors
    %% --------------------------------------------------------------------
    pos = linspace(0, 1, size(nodes,1));
    cmap = interp1(pos, nodes, linspace(0, 1, n), 'pchip');
end