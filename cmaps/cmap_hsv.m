%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%% FILE DESCRIPTION %%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% FILENAME: cmap_hsv.m
%
% DESCRIPTION: Classic HSV (rainbow) colormap.
%              Full hue cycle: red → orange → yellow → green → cyan → blue → magenta → red.
%              Interpolates between 10 sampled colors.
%
% INPUT:
%   n - Number of colors (default: 256)
%
% OUTPUT:
%   cmap - n x 3 RGB matrix (0–1 range)

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% FUNCTION %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

function cmap = cmap_hsv(n)
    
    %% --------------------------------------------------------------------
    %% 1. Set default input
    %% --------------------------------------------------------------------
    if nargin < 1, n = 256; end

    %% --------------------------------------------------------------------
    %% 2. Define node colors (RGB, 0–1)
    %% --------------------------------------------------------------------
    % Hex: #ff0000, #ffa500, #b3ff00, #08ff00, #00ff9d,
    %      #00b5ff, #0010ff, #9b00ff, #ff00bd, #ff0018
    nodes = [
        1.00000000  0.00000000  0.00000000;
        1.00000000  0.64853006  0.00000000;
        0.70293988  1.00000000  0.00000000;
        0.03124934  1.00000000  0.00000131;
        0.00000000  1.00000000  0.61727853;
        0.00000000  0.71103203  1.00000000;
        0.00000000  0.06250197  1.00000000;
        0.60918988  0.00000000  1.00000000;
        1.00000000  0.00000000  0.74228006;
        1.00000000  0.00000000  0.09375000
    ];

    %% --------------------------------------------------------------------
    %% 3. Interpolate to n colors
    %% --------------------------------------------------------------------
    pos = linspace(0, 1, size(nodes,1));
    cmap = interp1(pos, nodes, linspace(0, 1, n), 'pchip');
end