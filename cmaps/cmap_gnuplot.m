%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%% FILE DESCRIPTION %%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% FILENAME: cmap_gnuplot.m
%
% DESCRIPTION: Sequential colormap based on the classic GNUPLOT palette.
%              Dark violet to purple to red to orange to yellow to white.
%              Interpolates between 10 sampled colors.
%
% INPUT:
%   n - Number of colors (default: 256)
%
% OUTPUT:
%   cmap - n x 3 RGB matrix (0–1 range)

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% FUNCTION %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

function cmap = cmap_gnuplot(n)
    
    %% --------------------------------------------------------------------
    %% 1. Set default input
    %% --------------------------------------------------------------------
    if nargin < 1, n = 256; end

    %% --------------------------------------------------------------------
    %% 2. Define node colors (RGB, 0–1)
    %% --------------------------------------------------------------------
    % Hex: #000000, #5400a2, #7703fa, #9309dd, #aa1659,
    %      #be2c00, #d04c00, #e17900, #f1b400, #ffff00
    nodes = [
        0.00000000  0.00000000  0.00000000;
        0.33136675  0.00132390  0.63647424;
        0.46862335  0.01059116  0.98182256;
        0.57735027  0.03703704  0.86602540;
        0.66568555  0.08701914  0.34972651;
        0.74623237  0.17268097  0.00000000;
        0.81649658  0.29629630  0.00000000;
        0.88339807  0.47526812  0.00000000;
        0.94350203  0.70543504  0.00000000;
        1.00000000  1.00000000  0.00000000
    ];

    %% --------------------------------------------------------------------
    %% 3. Interpolate to n colors
    %% --------------------------------------------------------------------
    pos = linspace(0, 1, size(nodes,1));
    cmap = interp1(pos, nodes, linspace(0, 1, n), 'pchip');
end